#!/bin/sh

echo "# AUTO-GENERATED" > "$HOME/.ssh/config"
echo "# This file is auto-generated by '$0' from the contents of '~/.ssh/config.d/*.config', do not edit." >> "$HOME/.ssh/config"
echo "# If you wish to change your SSH configuration, add a '[name].config' file in '~/.ssh/config.d/', then run '$0'." >> "$HOME/.ssh/config"

if [ -d "$HOME/.ssh/config.d" ]; then
    for f in `ls -1 $HOME/.ssh/config.d/*.config`; do
        echo        >> "$HOME/.ssh/config"
        echo "# $f" >> "$HOME/.ssh/config"
        cat "$f"    >> "$HOME/.ssh/config"
    done
fi
